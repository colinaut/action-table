var m=Object.defineProperty;var x=(u,o,i)=>o in u?m(u,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):u[o]=i;var c=(u,o,i)=>(x(u,typeof o!="symbol"?o+"":o,i),i);class $ extends HTMLElement{constructor(){super();c(this,"buttonGroup",1);c(this,"page",1);c(this,"pagination",0);c(this,"rowsShown",0);c(this,"maxButtonGroups",1);this.addEventListeners()}connectedCallback(){}get maxButtons(){return Number(this.getAttribute("max-buttons"))||10}setProps(i){const{page:s,rowsShown:n}=i;let t=!1;s!==void 0&&s!==this.page&&(this.page=s,t=!0),n!==void 0&&n!==this.rowsShown&&(this.rowsShown=n,t=!0),t&&this.render()}render(){const{page:i,pagination:s,rowsShown:n}=this,t=this.maxButtons,a=Math.ceil(n/s),l=Math.ceil(a/t);let r=this.buttonGroup;r>l?r=l:r<1&&(r=1);const f=(r-1)*t+1,b='<button type="button" class="';function g(e,h=""){return`${b}${i===e?`active ${h}`:`${h}`}" data-page="${e}">${e}</button>`}function d(e,h){return`${b}${e}" title="${h}">...</button>`}let p="";if(r>1&&(p+=`${g(1,"first")}${d("prev",f-1)}`),n>0){for(let e=f;e<=a;e++)if(p+=g(e),e!==a&&e>=t*r){p+=`${d("next",e+1)}${g(a,"last")}`;break}}this.innerHTML=`<span class="pagination-title">Pagination:</span> ${p}`,this.buttonGroup=r,this.maxButtonGroups=l}addEventListeners(){this.addEventListener("click",i=>{const s=i.target;if(s.tagName.toLowerCase()==="button"){let n=this.page;s.dataset.page&&(n=Number(s.dataset.page),s.classList.add("active"),this.querySelectorAll("button").forEach(a=>{a!==s&&a.classList.remove("active")}));let t=this.buttonGroup;if(s.classList.contains("next")&&(n=t*this.maxButtons+1,t++),s.classList.contains("prev")&&(t--,n=t*this.maxButtons),s.classList.contains("first")&&(t=1),s.classList.contains("last")&&(t=this.maxButtonGroups),this.page!==n){this.page=n;const a=this.closest("action-table");a.page=this.page}this.buttonGroup!==t&&(this.buttonGroup=t,this.render())}})}}customElements.define("action-table-pagination",$);
//# sourceMappingURL=action-table-pagination.js.map
