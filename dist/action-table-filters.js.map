{"version":3,"file":"action-table-filters.js","sources":["../src/action-table-filters.ts"],"sourcesContent":["export class ActionTableFilters extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\tprivate filters!: NodeListOf<HTMLSelectElement | HTMLInputElement>;\n\tpublic connectedCallback(): void {\n\t\tthis.filters = this.querySelectorAll(\"select, input[type=checkbox], input[type=radio]\") as NodeListOf<HTMLSelectElement | HTMLInputElement>;\n\t\t// console.log(\"ðŸš€ ~ file: action-table-filters.ts:9 ~ ActionTableFilters ~ connectedCallback ~ this.filters:\", this.filters);\n\t\tthis.addEventListeners();\n\t}\n\n\tpublic resetAllFilters(): void {\n\t\tthis.filters.forEach((filter) => {\n\t\t\tif (filter.type === \"checkbox\") {\n\t\t\t\tconst input = filter as HTMLInputElement;\n\t\t\t\tinput.checked = false;\n\t\t\t}\n\t\t\tif (filter.type === \"radio\") {\n\t\t\t\tconst input = filter as HTMLInputElement;\n\t\t\t\tif ((input.value = \"\")) {\n\t\t\t\t\tinput.checked = true;\n\t\t\t\t} else {\n\t\t\t\t\tinput.checked = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (filter.tagName.toLowerCase() === \"select\") {\n\t\t\t\tfilter.value = \"\";\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate addEventListeners(): void {\n\t\tthis.filters?.forEach((el) => {\n\t\t\tif (el.type === \"checkbox\") {\n\t\t\t\tconst input = el as HTMLInputElement;\n\t\t\t\tinput.addEventListener(\"change\", () => {\n\t\t\t\t\tconst checkboxValues = Array.from(this.filters)\n\t\t\t\t\t\t.filter((filter) => {\n\t\t\t\t\t\t\tif (filter.type === \"checkbox\") {\n\t\t\t\t\t\t\t\tconst checkbox = filter as HTMLInputElement;\n\t\t\t\t\t\t\t\treturn checkbox.type === \"checkbox\" && checkbox.name === input.name && checkbox.checked;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.map((checkbox) => checkbox.value);\n\n\t\t\t\t\tlet detail = { col: input.name, value: checkboxValues };\n\n\t\t\t\t\tthis.dispatchEvent(new CustomEvent(\"action-table-filter\", { detail, bubbles: true }));\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (el.type === \"radio\") {\n\t\t\t\tel.addEventListener(\"change\", () => {\n\t\t\t\t\tconst detail = { col: el.name, value: el.value };\n\t\t\t\t\tthis.dispatchEvent(new CustomEvent(\"action-table-filter\", { detail, bubbles: true }));\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (el.tagName.toLowerCase() === \"select\") {\n\t\t\t\tel.addEventListener(\"change\", () => {\n\t\t\t\t\tconst detail = { col: el.name, value: el.value };\n\t\t\t\t\tthis.dispatchEvent(new CustomEvent(\"action-table-filter\", { detail, bubbles: true }));\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tconst resetButton = this.querySelector(\"button[type=reset]\") as HTMLButtonElement;\n\t\tresetButton?.addEventListener(\"click\", () => {\n\t\t\tthis.dispatchEvent(new CustomEvent(\"action-table-filter-reset\", { bubbles: true }));\n\t\t});\n\n\t\t// add listener for action-table-filter-reset event\n\t\tthis.addEventListener(\"action-table-filter-reset\", () => {\n\t\t\tthis.resetAllFilters();\n\t\t});\n\t}\n}\n\ncustomElements.define(\"action-table-filters\", ActionTableFilters);\n"],"names":["ActionTableFilters","__publicField","filter","input","_a","el","checkboxValues","checkbox","detail","resetButton"],"mappings":"wKAAO,MAAMA,UAA2B,WAAY,CACnD,aAAc,CACP,QAECC,EAAA,eADR,CAEO,mBAA0B,CAC3B,KAAA,QAAU,KAAK,iBAAiB,iDAAiD,EAEtF,KAAK,kBAAkB,CACxB,CAEO,iBAAwB,CACzB,KAAA,QAAQ,QAASC,GAAW,CAC5B,GAAAA,EAAO,OAAS,WAAY,CAC/B,MAAMC,EAAQD,EACdC,EAAM,QAAU,EACjB,CACI,GAAAD,EAAO,OAAS,QAAS,CAC5B,MAAMC,EAAQD,GACTC,EAAM,MAAQ,IAClBA,EAAM,QAAU,GAEhBA,EAAM,QAAU,EAElB,CACID,EAAO,QAAQ,YAAY,IAAM,WACpCA,EAAO,MAAQ,GAChB,CACA,CACF,CAEQ,mBAA0B,CA/B5B,IAAAE,GAgCAA,EAAA,KAAA,UAAA,MAAAA,EAAS,QAASC,GAAO,CACzB,GAAAA,EAAG,OAAS,WAAY,CAC3B,MAAMF,EAAQE,EACRF,EAAA,iBAAiB,SAAU,IAAM,CAChC,MAAAG,EAAiB,MAAM,KAAK,KAAK,OAAO,EAC5C,OAAQJ,GAAW,CACf,GAAAA,EAAO,OAAS,WAAY,CAC/B,MAAMK,EAAWL,EACjB,OAAOK,EAAS,OAAS,YAAcA,EAAS,OAASJ,EAAM,MAAQI,EAAS,OAAA,KAEzE,OAAA,EAER,CAAA,EACA,IAAKA,GAAaA,EAAS,KAAK,EAElC,IAAIC,EAAS,CAAE,IAAKL,EAAM,KAAM,MAAOG,GAElC,KAAA,cAAc,IAAI,YAAY,sBAAuB,CAAE,OAAAE,EAAQ,QAAS,EAAM,CAAA,CAAC,CAAA,CACpF,CACF,CACIH,EAAG,OAAS,SACZA,EAAA,iBAAiB,SAAU,IAAM,CACnC,MAAMG,EAAS,CAAE,IAAKH,EAAG,KAAM,MAAOA,EAAG,OACpC,KAAA,cAAc,IAAI,YAAY,sBAAuB,CAAE,OAAAG,EAAQ,QAAS,EAAM,CAAA,CAAC,CAAA,CACpF,EAEEH,EAAG,QAAQ,YAAY,IAAM,UAC7BA,EAAA,iBAAiB,SAAU,IAAM,CACnC,MAAMG,EAAS,CAAE,IAAKH,EAAG,KAAM,MAAOA,EAAG,OACpC,KAAA,cAAc,IAAI,YAAY,sBAAuB,CAAE,OAAAG,EAAQ,QAAS,EAAM,CAAA,CAAC,CAAA,CACpF,CACF,GAEK,MAAAC,EAAc,KAAK,cAAc,oBAAoB,EAC9CA,GAAA,MAAAA,EAAA,iBAAiB,QAAS,IAAM,CACvC,KAAA,cAAc,IAAI,YAAY,4BAA6B,CAAE,QAAS,EAAM,CAAA,CAAC,CAAA,GAI9E,KAAA,iBAAiB,4BAA6B,IAAM,CACxD,KAAK,gBAAgB,CAAA,CACrB,CACF,CACD,CAEA,eAAe,OAAO,uBAAwBT,CAAkB"}