{"version":3,"file":"action-table-filters.js","sources":["../src/action-table-filter-menu.ts","../src/action-table-filter-switch.ts","../src/action-table-filters.ts"],"sourcesContent":["import { ActionTable } from \"./action-table\";\n\nexport class ActionTableFilterMenu extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic get observedAttributes(): string[] {\n\t\treturn [\"name\", \"options\", \"label\", \"type\", \"exclusive\", \"multiple\"];\n\t}\n\n\tget name(): string {\n\t\treturn this.getAttribute(\"name\") || \"\";\n\t}\n\n\tget options(): string[] {\n\t\treturn this.getAttribute(\"options\")?.split(\",\") || [];\n\t}\n\n\tset options(value: string[]) {\n\t\tthis.setAttribute(\"options\", value.join(\",\"));\n\t}\n\n\tget label(): string {\n\t\treturn this.getAttribute(\"label\") || this.name;\n\t}\n\n\tget type(): \"select\" | \"checkbox\" | \"radio\" {\n\t\treturn (this.getAttribute(\"type\") as \"select\" | \"checkbox\" | \"radio\") || \"select\";\n\t}\n\n\tget multiple(): \"multiple\" | \"\" {\n\t\treturn this.hasAttribute(\"multiple\") ? \"multiple\" : \"\";\n\t}\n\n\tpublic findOptions(columnName: string): void {\n\t\t// 1. Set column name to lowercase\n\t\tcolumnName = columnName.toLowerCase();\n\t\t// 2. Get action table; of not found, return\n\t\tconst actionTable = this.closest(\"action-table\") as ActionTable;\n\t\tif (!actionTable) {\n\t\t\treturn;\n\t\t}\n\t\t// 3. Find all column headers\n\t\tconst ths = actionTable.querySelectorAll(\"table thead th\") as NodeListOf<HTMLTableCellElement>;\n\t\t// 4. Find column index based on column name in header data-col attribute; if not found, return\n\t\tconst columnIndex = Array.from(ths).findIndex((th) => th.dataset.col?.toLowerCase() === columnName);\n\t\tif (columnIndex === -1) {\n\t\t\treturn;\n\t\t}\n\t\t// 5. Get tbody\n\t\tconst tbody = actionTable.querySelector(\"table tbody\") as HTMLTableSectionElement;\n\t\t// 6. Get all cells in column\n\t\tconst columnTDs = `td:nth-child(${columnIndex + 1})`;\n\t\tconst cells = tbody.querySelectorAll(columnTDs) as NodeListOf<HTMLTableCellElement>;\n\n\t\t// 6. Get all spans or li in column\n\t\tconst subItems = tbody.querySelectorAll(`${columnTDs} > span, ${columnTDs} > ul > li`) as NodeListOf<HTMLElement>;\n\n\t\t// 7. Get all options\n\t\tlet options: string[] = [];\n\t\tif (subItems && subItems.length > 0) {\n\t\t\t// 7.1 If subitems exist, get all options in subitems\n\t\t\toptions = Array.from(subItems).map((item) => item.innerText);\n\t\t} else {\n\t\t\t// 7.2 else get data-filter or innerText\n\t\t\toptions = Array.from(cells).map((cell) => cell.dataset.filter || cell.innerText);\n\t\t}\n\n\t\t// 8. Set options\n\t\tthis.options = Array.from(new Set(options));\n\t}\n\n\tpublic connectedCallback(): void {\n\t\tif (this.options.length < 1) this.findOptions(this.name);\n\t\tthis.render();\n\t}\n\n\tprivate render(): void {\n\t\tif (this.options.length < 1) return;\n\t\tconst columnName = this.name.toLowerCase();\n\t\tconst mainLabel = this.type === \"select\" ? `<label for=\"filter-${columnName}\">${this.label}</label>` : `<span class=\"filter-label\">${this.label}</span>`;\n\t\tlet start = \"\";\n\t\tlet end = \"\";\n\t\tif (this.type === \"select\") {\n\t\t\tstart = `<select id=\"filter-${columnName}\" name=\"${columnName}\" ${this.multiple}><option value=\"\">All</option>`;\n\t\t\tend = `</select>`;\n\t\t}\n\t\tif (this.type === \"radio\") {\n\t\t\tstart = `<label><input name=\"${columnName}\" type=\"radio\" value=\"\" checked>All</label>`;\n\t\t}\n\t\tlet html = `${mainLabel}${start}${this.options\n\t\t\t.map((option) => {\n\t\t\t\tif (this.type === \"select\") return `<option value=\"${option}\">${option}</option>`;\n\t\t\t\tif (this.type === \"radio\" || this.type === \"checkbox\") return `<label><input type=\"${this.type}\" name=\"${columnName}\" value=\"${option}\" />${option}</label>`;\n\t\t\t\treturn \"\";\n\t\t\t})\n\t\t\t.join(\"\")}${end}`;\n\n\t\tthis.innerHTML = `${html}`;\n\t}\n}\n\ncustomElements.define(\"action-table-filter-menu\", ActionTableFilterMenu);\n","export class ActionTableFilterSwitch extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic get observedAttributes(): string[] {\n\t\treturn [\"name\", \"label\", \"value\"];\n\t}\n\n\tget name(): string {\n\t\treturn this.getAttribute(\"name\") || \"\";\n\t}\n\n\tget label(): string {\n\t\treturn this.getAttribute(\"label\") || this.name;\n\t}\n\n\tget value(): string {\n\t\treturn this.getAttribute(\"value\") || \"on\";\n\t}\n\n\tpublic connectedCallback(): void {\n\t\tthis.render();\n\t}\n\n\tprivate render(): void {\n\t\tconst html = `<label>\n        <input type=\"checkbox\" name=\"${this.name.toLowerCase()}\" value=\"${this.value}\" />\n        <span>${this.label}</span>\n      </label>`;\n\n\t\tthis.innerHTML = `${html}`;\n\t}\n}\n\ncustomElements.define(\"action-table-filter-switch\", ActionTableFilterSwitch);\n","import { ActionTable } from \"./action-table\";\nimport { FiltersObject } from \"./types\";\nexport class ActionTableFilters extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tprivate filterElements!: NodeListOf<HTMLSelectElement | HTMLInputElement>;\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                             Connected Callback                             */\n\t/* -------------------------------------------------------------------------- */\n\tpublic connectedCallback(): void {\n\t\tthis.init();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                         Private Method: async init                         */\n\t/* -------------------------------------------------------------------------- */\n\n\tprivate async init() {\n\t\t// 1. Check if the action-table-filter-menu and action-table-filter-switch exist\n\t\tawait this.checkForActionTableFilterElements();\n\t\t// 2. Grab the Node List of filter elements\n\t\tthis.filterElements = this.querySelectorAll(\"select, input[type=checkbox], input[type=radio], input[type=search]\") as NodeListOf<HTMLSelectElement | HTMLInputElement>;\n\t\t// console.log(\"filterElements\", this.filterElements);\n\n\t\t// 3. Add event listeners\n\t\tthis.addEventListeners();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*              Private Method: toggle highlight for select menu              */\n\t/* -------------------------------------------------------------------------- */\n\n\tprivate toggleHighlight(el: HTMLInputElement | HTMLSelectElement): void {\n\t\tif (el.value) {\n\t\t\tel.classList.add(\"selected\");\n\t\t} else {\n\t\t\tel.classList.remove(\"selected\");\n\t\t}\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                        Private: add event listeners                        */\n\t/* -------------------------------------------------------------------------- */\n\n\tprivate addEventListeners(): void {\n\t\tconst actionTable = this.closest(\"action-table\") as ActionTable;\n\t\t/* ------------ Event Listeners for select/checkbox/radio ------------ */\n\t\t// TODO: review to see if there are bugs and if I can make more DRY\n\t\tthis.filterElements.forEach((el) => {\n\t\t\tconst exclusive = !!el.closest(\"[exclusive]\");\n\t\t\tif (el.tagName.toLowerCase() === \"select\") {\n\t\t\t\tel.addEventListener(\"change\", () => {\n\t\t\t\t\tthis.toggleHighlight(el);\n\t\t\t\t\tconst select = el as HTMLSelectElement;\n\t\t\t\t\tconst selectedOptions = Array.from(select.selectedOptions).map((option) => option.value);\n\t\t\t\t\tactionTable.filterTable(el.name, selectedOptions, exclusive);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (el.type === \"checkbox\") {\n\t\t\t\tel.addEventListener(\"change\", () => {\n\t\t\t\t\tconst checkboxValues = Array.from(this.filterElements)\n\t\t\t\t\t\t.filter((e) => {\n\t\t\t\t\t\t\te = e as HTMLInputElement;\n\t\t\t\t\t\t\tif (e.type === \"checkbox\" && e.name === el.name) {\n\t\t\t\t\t\t\t\treturn e.checked;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.map((checkbox) => checkbox.value);\n\n\t\t\t\t\tactionTable.filterTable(el.name, checkboxValues, exclusive);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (el.type === \"radio\") {\n\t\t\t\tel.addEventListener(\"change\", () => {\n\t\t\t\t\tactionTable.filterTable(el.name, [el.value]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction debounce(func: Function, timeout = 300) {\n\t\t\t\tlet timer: number;\n\t\t\t\treturn (...args: any[]) => {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\ttimer = setTimeout(() => {\n\t\t\t\t\t\tfunc(args);\n\t\t\t\t\t}, timeout);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (el.type === \"search\") {\n\t\t\t\tel.addEventListener(\"input\", () => {\n\t\t\t\t\tconst debouncedFilter = debounce(() => actionTable.filterTable(el.name, [el.value]));\n\t\t\t\t\tdebouncedFilter();\n\t\t\t\t\tactionTable.filterTable(el.name, [el.value]);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t/* ------------------------------- Text Input ------------------------------- */\n\n\t\t/* ------------------------------ Reset Button ------------------------------ */\n\t\tconst resetButton = this.querySelector(\"button[type=reset]\") as HTMLButtonElement;\n\t\tresetButton?.addEventListener(\"click\", () => {\n\t\t\tthis.resetAllFilterElements();\n\t\t\tactionTable.resetFilters();\n\t\t});\n\t}\n\n\tprivate async checkForActionTableFilterElements(): Promise<boolean> {\n\t\tconst actionTableFilterElements = this.querySelectorAll(\"action-table-filter-menu, action-table-filter-switch\");\n\t\tconst allDefined = Array.from(actionTableFilterElements).every((element) => customElements.get(element.tagName.toLowerCase()));\n\t\tif (allDefined) return true;\n\t\tif (actionTableFilterElements && actionTableFilterElements.length > 0) {\n\t\t\tawait Promise.all([customElements.whenDefined(\"action-table-filter-menu\"), customElements.whenDefined(\"action-table-filter-switch\")]);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                  Public Method: reset all filter elements                  */\n\t/* -------------------------------------------------------------------------- */\n\n\tpublic async resetAllFilterElements() {\n\t\tawait this.checkForActionTableFilterElements();\n\t\tthis.filterElements.forEach((el) => {\n\t\t\tif (el.type === \"checkbox\" || el.type === \"radio\") {\n\t\t\t\tconst input = el as HTMLInputElement;\n\t\t\t\tif (input.value === \"\") {\n\t\t\t\t\tinput.checked = true;\n\t\t\t\t} else {\n\t\t\t\t\tinput.checked = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (el.tagName.toLowerCase() === \"select\" || el.type === \"search\") {\n\t\t\t\tel.value = \"\";\n\t\t\t\tthis.toggleHighlight(el);\n\t\t\t}\n\t\t});\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                  Public Method: set filter elements                       */\n\t/* -------------------------------------------------------------------------- */\n\tpublic async setFilterElements(filters: FiltersObject) {\n\t\tawait this.checkForActionTableFilterElements();\n\t\t// console.log(\"setFilterElements\", filters);\n\t\tObject.keys(filters).forEach((key) => {\n\t\t\tif (!filters[key].values) return;\n\t\t\tthis.setFilterElement(key, filters[key].values);\n\t\t});\n\t}\n\n\t/* --------------------------- Set Filter element --------------------------- */\n\n\tpublic setFilterElement(col: string, values: string[]) {\n\t\tconsole.log(\"setFilterElement\", col, values);\n\n\t\tthis.filterElements?.forEach((el) => {\n\t\t\tif (el.name !== col) return;\n\n\t\t\tif (el.type === \"checkbox\") {\n\t\t\t\tconst input = el as HTMLInputElement;\n\t\t\t\tif (values.includes(input.value)) {\n\t\t\t\t\tinput.checked = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (el.tagName.toLowerCase() === \"select\") {\n\t\t\t\tel.value = values[0] || \"\";\n\t\t\t\tthis.toggleHighlight(el);\n\t\t\t}\n\n\t\t\tif (el.type === \"radio\") {\n\t\t\t\tconst input = el as HTMLInputElement;\n\t\t\t\tif (input.value === values[0] || \"\") {\n\t\t\t\t\tinput.checked = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (el.type === \"search\") {\n\t\t\t\tel.value = values[0] || \"\";\n\t\t\t\tthis.toggleHighlight(el);\n\t\t\t}\n\t\t});\n\t}\n}\n\ncustomElements.define(\"action-table-filters\", ActionTableFilters);\n\n// Import filter components\nimport \"./action-table-filter-menu\";\nimport \"./action-table-filter-switch\";\n"],"names":["ActionTableFilterMenu","_a","value","columnName","actionTable","ths","columnIndex","th","tbody","columnTDs","cells","subItems","options","item","cell","mainLabel","start","end","html","option","ActionTableFilterSwitch","ActionTableFilters","__publicField","el","exclusive","select","selectedOptions","checkboxValues","e","checkbox","debounce","func","timeout","timer","args","resetButton","actionTableFilterElements","element","input","filters","key","col","values"],"mappings":"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"}