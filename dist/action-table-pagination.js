var m=Object.defineProperty;var w=(u,o,s)=>o in u?m(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s;var c=(u,o,s)=>(w(u,typeof o!="symbol"?o+"":o,s),s);class x extends HTMLElement{constructor(){super();c(this,"buttonGroup",1);c(this,"page",1);c(this,"pagination",0);c(this,"rowsShown",0);c(this,"maxButtonGroups",1);this.addEventListeners()}connectedCallback(){const s=this.closest("action-table");this.pagination=s.pagination,this.page=s.page,this.rowsShown=s.rowsShown,this.render()}get maxButtons(){return Number(this.getAttribute("max-buttons"))||10}setProps(s){const{page:n,rowsShown:e}=s;let t=!1;n!==void 0&&n!==this.page&&(this.page=n,t=!0),e!==void 0&&e!==this.rowsShown&&(this.rowsShown=e,t=!0),t&&this.render()}render(){const{page:s,pagination:n,rowsShown:e}=this,t=this.maxButtons,a=Math.ceil(e/n),l=Math.ceil(a/t);let r=this.buttonGroup;r>l?r=l:r<1&&(r=1);const b=(r-1)*t+1,f='<button type="button" class="';function g(i,h=""){return`${f}${s===i?`active ${h}`:`${h}`}" data-page="${i}">${i}</button>`}function d(i,h){return`${f}${i}" title="${h}">...</button>`}let p="";if(r>1&&(p+=`${g(1,"first")}${d("prev",b-1)}`),e>0){for(let i=b;i<=a;i++)if(p+=g(i),i!==a&&i>=t*r){p+=`${d("next",i+1)}${g(a,"last")}`;break}}this.innerHTML=`<span class="pagination-title">Pagination:</span> ${p}`,this.buttonGroup=r,this.maxButtonGroups=l}addEventListeners(){this.addEventListener("click",s=>{const n=s.target;if(n.tagName.toLowerCase()==="button"){let e=this.page;n.dataset.page&&(e=Number(n.dataset.page),n.classList.add("active"),this.querySelectorAll("button").forEach(a=>{a!==n&&a.classList.remove("active")}));let t=this.buttonGroup;if(n.classList.contains("next")&&(e=t*this.maxButtons+1,t++),n.classList.contains("prev")&&(t--,e=t*this.maxButtons),n.classList.contains("first")&&(t=1),n.classList.contains("last")&&(t=this.maxButtonGroups),this.page!==e){this.page=e;const a=this.closest("action-table");a.page=this.page}this.buttonGroup!==t&&(this.buttonGroup=t,this.render())}})}}customElements.define("action-table-pagination",x);
//# sourceMappingURL=action-table-pagination.js.map
