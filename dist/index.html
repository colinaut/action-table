<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Web Component Starter</title>
		<script type="module" crossorigin src="/main.js"></script>
		<link rel="modulepreload" crossorigin href="/action-table.js">
		<link rel="modulepreload" crossorigin href="/action-table-filter.js">
		<link rel="stylesheet" crossorigin href="/assets/main.css">
	</head>
	<body>
		<action-table>
			<div>
				<action-table-filters>
					<label for="animal">Filter by animal</label>
					<select name="animal" id="animal">
						<option value="">All</option>
						<option value="rabbit">Rabbit</option>
						<option value="dog">Dog</option>
						<option value="raccoon">Raccoon</option>
						<option value="cat">Cat</option>
					</select>
					<label for="color">Filter by color</label>
					<select name="color" id="color">
						<option value="">All</option>
						<option value="black">Black</option>
						<option value="white">White</option>
						<option value="brown">Brown</option>
						<option value="gray">Gray</option>
					</select>
					<label><input type="checkbox" name="animal" id="small-dog" value="small dog" />Show Only Small Dogs</label>
					<button type="reset">Reset</button>
				</action-table-filters>
			</div>
			<table>
				<thead>
					<tr>
						<th>Animal</th>
						<th>Name</th>
						<th>Color</th>
						<th>Number</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>rabbit</td>
						<td>Attila</td>
						<td>white</td>
						<td>8</td>
					</tr>
					<tr>
						<td>small dog</td>
						<td>Sophia</td>
						<td>black</td>
						<td>54</td>
					</tr>
					<tr>
						<td>rabbit</td>
						<td>Cindy Lop Ear</td>
						<td>brown</td>
						<td>35</td>
					</tr>
					<tr>
						<td>raccoon</td>
						<td>Sewer</td>
						<td>gray</td>
						<td>12</td>
					</tr>
					<tr>
						<td>dog</td>
						<td>Ziggy</td>
						<td>gray</td>
						<td>99</td>
					</tr>
					<tr>
						<td>raccoon</td>
						<td>Wrapper</td>
						<td>brown</td>
						<td>2</td>
					</tr>
					<tr>
						<td>cat</td>
						<td>Tommy</td>
						<td>brown</td>
						<td>42</td>
					</tr>
					<tr>
						<td>cat</td>
						<td>Steve</td>
						<td>black</td>
						<td>76</td>
					</tr>
				</tbody>
			</table>
		</action-table>
		<button id="test-button">change Steve to Gus</button>
		<script type="text/javascript">
			// document ready
			document.addEventListener("DOMContentLoaded", function () {
				document.getElementById("test-button").addEventListener("click", function () {
					console.log("test button clicked");
					//change all cells with Steve to Gus
					document.querySelectorAll("td").forEach(function (td) {
						if (td.textContent === "Steve") {
							td.textContent = "Gus";
							// change previous cell to dog
							td.previousElementSibling.textContent = "dog";
						}
					});
				});
			});
		</script>
	</body>
</html>
