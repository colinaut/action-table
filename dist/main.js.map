{"version":3,"file":"main.js","sources":["../src/action-table-filters.ts"],"sourcesContent":["export class ActionTableFilters extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\tprivate filters!: NodeListOf<HTMLSelectElement | HTMLInputElement>;\n\tpublic connectedCallback(): void {\n\t\tthis.filters = this.querySelectorAll(\"select, input[type=checkbox], input[type=radio]\") as NodeListOf<HTMLSelectElement | HTMLInputElement>;\n\t\t// console.log(\"ðŸš€ ~ file: action-table-filters.ts:9 ~ ActionTableFilters ~ connectedCallback ~ this.filters:\", this.filters);\n\t\tthis.addEventListeners();\n\t}\n\n\tpublic resetAllFilters(): void {\n\t\tthis.filters.forEach((filter) => {\n\t\t\tif (filter.type === \"checkbox\") {\n\t\t\t\tconst input = filter as HTMLInputElement;\n\t\t\t\tinput.checked = false;\n\t\t\t}\n\t\t\tif (filter.type === \"radio\") {\n\t\t\t\tconst input = filter as HTMLInputElement;\n\t\t\t\tif ((input.value = \"\")) {\n\t\t\t\t\tinput.checked = true;\n\t\t\t\t} else {\n\t\t\t\t\tinput.checked = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (filter.tagName.toLowerCase() === \"select\") {\n\t\t\t\tfilter.value = \"\";\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate addEventListeners(): void {\n\t\t// Add event listener that detects changes in the select element\n\n\t\tthis.filters?.forEach((el) => {\n\t\t\tconsole.log(\"el:\", el);\n\t\t\t// TODO: allow multiple checkboxes for an array of filters\n\t\t\tif (el.type === \"checkbox\") {\n\t\t\t\tconst input = el as HTMLInputElement;\n\t\t\t\tinput.addEventListener(\"change\", () => {\n\t\t\t\t\tlet detail = { col: input.name, value: input.value };\n\t\t\t\t\tif (!input.checked) {\n\t\t\t\t\t\tdetail = { col: input.name, value: \"\" };\n\t\t\t\t\t}\n\t\t\t\t\tthis.dispatchEvent(new CustomEvent(\"action-table-filter\", { detail, bubbles: true }));\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (el.type === \"radio\") {\n\t\t\t\tel.addEventListener(\"change\", () => {\n\t\t\t\t\tconst detail = { col: el.name, value: el.value };\n\t\t\t\t\tthis.dispatchEvent(new CustomEvent(\"action-table-filter\", { detail, bubbles: true }));\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (el.tagName.toLowerCase() === \"select\") {\n\t\t\t\tel.addEventListener(\"change\", () => {\n\t\t\t\t\tconst detail = { col: el.name, value: el.value };\n\t\t\t\t\tthis.dispatchEvent(new CustomEvent(\"action-table-filter\", { detail, bubbles: true }));\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tconst resetButton = this.querySelector(\"button[type=reset]\") as HTMLButtonElement;\n\t\tresetButton?.addEventListener(\"click\", () => {\n\t\t\tthis.dispatchEvent(new CustomEvent(\"action-table-filter-reset\", { bubbles: true }));\n\t\t});\n\n\t\t// add listener for action-table-filter-reset event\n\t\tthis.addEventListener(\"action-table-filter-reset\", () => {\n\t\t\tthis.resetAllFilters();\n\t\t});\n\t}\n}\n\ncustomElements.define(\"action-table-filters\", ActionTableFilters);\n"],"names":["ActionTableFilters","__publicField","filter","input","_a","el","detail","resetButton"],"mappings":"mOAAO,MAAMA,UAA2B,WAAY,CACnD,aAAc,CACP,QAECC,EAAA,eADR,CAEO,mBAA0B,CAC3B,KAAA,QAAU,KAAK,iBAAiB,iDAAiD,EAEtF,KAAK,kBAAkB,CACxB,CAEO,iBAAwB,CACzB,KAAA,QAAQ,QAASC,GAAW,CAC5B,GAAAA,EAAO,OAAS,WAAY,CAC/B,MAAMC,EAAQD,EACdC,EAAM,QAAU,EACjB,CACI,GAAAD,EAAO,OAAS,QAAS,CAC5B,MAAMC,EAAQD,GACTC,EAAM,MAAQ,IAClBA,EAAM,QAAU,GAEhBA,EAAM,QAAU,EAElB,CACID,EAAO,QAAQ,YAAY,IAAM,WACpCA,EAAO,MAAQ,GAChB,CACA,CACF,CAEQ,mBAA0B,QAG5BE,EAAA,KAAA,UAAA,MAAAA,EAAS,QAASC,GAAO,CAGzB,GAAAA,EAAG,OAAS,WAAY,CAC3B,MAAMF,EAAQE,EACRF,EAAA,iBAAiB,SAAU,IAAM,CACtC,IAAIG,EAAS,CAAE,IAAKH,EAAM,KAAM,MAAOA,EAAM,OACxCA,EAAM,UACVG,EAAS,CAAE,IAAKH,EAAM,KAAM,MAAO,KAE/B,KAAA,cAAc,IAAI,YAAY,sBAAuB,CAAE,OAAAG,EAAQ,QAAS,EAAM,CAAA,CAAC,CAAA,CACpF,CACF,CACID,EAAG,OAAS,SACZA,EAAA,iBAAiB,SAAU,IAAM,CACnC,MAAMC,EAAS,CAAE,IAAKD,EAAG,KAAM,MAAOA,EAAG,OACpC,KAAA,cAAc,IAAI,YAAY,sBAAuB,CAAE,OAAAC,EAAQ,QAAS,EAAM,CAAA,CAAC,CAAA,CACpF,EAEED,EAAG,QAAQ,YAAY,IAAM,UAC7BA,EAAA,iBAAiB,SAAU,IAAM,CACnC,MAAMC,EAAS,CAAE,IAAKD,EAAG,KAAM,MAAOA,EAAG,OACpC,KAAA,cAAc,IAAI,YAAY,sBAAuB,CAAE,OAAAC,EAAQ,QAAS,EAAM,CAAA,CAAC,CAAA,CACpF,CACF,GAEK,MAAAC,EAAc,KAAK,cAAc,oBAAoB,EAC9CA,GAAA,MAAAA,EAAA,iBAAiB,QAAS,IAAM,CACvC,KAAA,cAAc,IAAI,YAAY,4BAA6B,CAAE,QAAS,EAAM,CAAA,CAAC,CAAA,GAI9E,KAAA,iBAAiB,4BAA6B,IAAM,CACxD,KAAK,gBAAgB,CAAA,CACrB,CACF,CACD,CAEA,eAAe,OAAO,uBAAwBP,CAAkB"}